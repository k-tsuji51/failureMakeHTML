From CALLER@myhost.test.ex Tue Mar 02 09:44:33 1999
Received: from CALLER (helo=test.ex)
	by myhost.test.ex with local-esmtp (Exim x.yz)
	(envelope-from <CALLER@myhost.test.ex>)
	id 10HmaY-0005vi-00
	for userx@test.ex; Tue, 2 Mar 1999 09:44:33 +0000
Message-Id: <E10HmaY-0005vi-00@myhost.test.ex>
From: CALLER_NAME <CALLER@myhost.test.ex>
Date: Tue, 2 Mar 1999 09:44:33 +0000
X-Router-SSint: was preserved

A message without any headers.

From CALLER@myhost.test.ex Tue Mar 02 09:44:33 1999
Received: from CALLER (helo=test.ex)
	by myhost.test.ex with local-esmtp (Exim x.yz)
	(envelope-from <CALLER@myhost.test.ex>)
	id 10HmaZ-0005vi-00
	for userx@test.ex; Tue, 2 Mar 1999 09:44:33 +0000
From: Test person <tp@cam.ac.uk>
To: Me <userx@test.ex>
Subject: A real test message
Date: Tue, 2 Mar 1999 09:44:33 +0000
Message-ID: <41C2F849.3060203@projectile.test.ex>
Sender: CALLER_NAME <CALLER@myhost.test.ex>
X-Router-SSint: was preserved

OK, this should look like a genuine message.

From CALLER@myhost.test.ex Tue Mar 02 09:44:33 1999
Received: from CALLER (helo=test.ex)
	by myhost.test.ex with local-esmtp (Exim x.yz)
	(envelope-from <CALLER@myhost.test.ex>)
	id 10HmbA-0005vi-00
	for userx@test.ex; Tue, 2 Mar 1999 09:44:33 +0000
From: 99Junk99@somewhere.com
To:
Subject: MAKE MONEY FAST!!!!
Message-id: abcde
Sender: CALLER_NAME <CALLER@myhost.test.ex>
Date: Tue, 2 Mar 1999 09:44:33 +0000
X-Router-SSint: was preserved

This should be enough to trip the threshold.

From CALLER@myhost.test.ex Tue Mar 02 09:44:33 1999
Received: from CALLER (helo=test.ex)
	by myhost.test.ex with local-esmtp (Exim x.yz)
	(envelope-from <CALLER@myhost.test.ex>)
	id 10HmbB-0005vi-00
	for userx@test.ex; Tue, 2 Mar 1999 09:44:33 +0000
From: Test person <tp@cam.ac.uk>
To: Me <userx@test.ex>
Subject: A real test message
Date: Tue, 2 Mar 1999 09:44:33 +0000
Message-ID: <41C2F849.3060203@projectile.test.ex>
FakeReject: test fakereject
Sender: CALLER_NAME <CALLER@myhost.test.ex>
X-Regex: Regex matched
X-Router-SSint: was preserved

OK, this should look like a genuine message, but
it will trip on THIS REGEX.

From CALLER@myhost.test.ex Tue Mar 02 09:44:33 1999
Received: from CALLER (helo=test.ex)
	by myhost.test.ex with local-esmtp (Exim x.yz)
	(envelope-from <CALLER@myhost.test.ex>)
	id 10HmbC-0005vi-00
	for userx@test.ex; Tue, 2 Mar 1999 09:44:33 +0000
Date: Tue, 2 Mar 1999 09:44:33 +0000
From: J Caesar <jcaesar@test.ex>
To: a-list00@exim.org
Message-ID: <20041217133501.GA3058@test.ex>
Mime-Version: 1.0
Content-Type: multipart/mixed; boundary="T4sUOijqQbZv57TR"
Content-Disposition: inline
Subject: [exim] Re: Bug#286074: eximstats: uses message count as data for
	the "volume" charts
X-BeenThere: a-list00@exim.org
X-Mailman-Version: 2.1.5
Precedence: list
Sender: CALLER_NAME <CALLER@myhost.test.ex>
X-0-content-type: multipart/mixed
X-0-filename: 
X-0-charset: 
X-0-boundary: T4sUOijqQbZv57TR
X-0-content-disposition: inline
X-0-content-transfer-encoding: 
X-0-content-id: 
X-0-content-description: 
X-0-is-multipart: 1
X-0-is-coverletter: 1
X-0-is-rfc822: 0
X-0-decode-filename: TESTSUITE/spool/scan/10HmbC-0005vi-00/10HmbC-0005vi-00-00000
X-0-content-size: 2
X-1-content-type: text/plain
X-1-filename: 
X-1-charset: US-ASCII
X-1-boundary: 
X-1-content-disposition: inline
X-1-content-transfer-encoding: quoted-printable
X-1-content-id: 
X-1-content-description: 
X-1-is-multipart: 0
X-1-is-coverletter: 1
X-1-is-rfc822: 0
X-1-decode-filename: TESTSUITE/spool/scan/10HmbC-0005vi-00/10HmbC-0005vi-00-00001
X-1-content-size: 1
X-mime-regex: matched
X-2-content-type: text/plain
X-2-filename: 
X-2-charset: us-ascii
X-2-boundary: 
X-2-content-disposition: inline
X-2-content-transfer-encoding: 
X-2-content-id: 
X-2-content-description: 
X-2-is-multipart: 0
X-2-is-coverletter: 0
X-2-is-rfc822: 0
X-2-decode-filename: TESTSUITE/spool/scan/10HmbC-0005vi-00/10HmbC-0005vi-00-00002
X-2-content-size: 1
X-3-content-type: text/plain
X-3-filename: working-patch
X-3-charset: us-ascii
X-3-boundary: 
X-3-content-disposition: attachment
X-3-content-transfer-encoding: 
X-3-content-id: 
X-3-content-description: 
X-3-is-multipart: 0
X-3-is-coverletter: 0
X-3-is-rfc822: 0
X-3-decode-filename: TESTSUITE/spool/scan/10HmbC-0005vi-00/10HmbC-0005vi-00-00003
X-3-content-size: 1
X-4-content-type: text/plain
X-4-filename: 
X-4-charset: us-ascii
X-4-boundary: 
X-4-content-disposition: inline
X-4-content-transfer-encoding: 7bit
X-4-content-id: 
X-4-content-description: 
X-4-is-multipart: 0
X-4-is-coverletter: 0
X-4-is-rfc822: 0
X-4-decode-filename: TESTSUITE/spool/scan/10HmbC-0005vi-00/10HmbC-0005vi-00-00004
X-4-content-size: 1
X-Router-SSint: was preserved

--T4sUOijqQbZv57TR
Content-Type: text/plain; charset=US-ASCII
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline

Test quoted-printable =3D    
Space at end of line=40
Continued line =    
with this text.

--T4sUOijqQbZv57TR
Content-Type: text/plain; charset=us-ascii
Content-Disposition: inline

There was a part of the patch missing, complete one is attached.
     sorry for wasting your time

--T4sUOijqQbZv57TR
Content-Type: text/plain; charset=us-ascii
Content-Disposition: attachment; filename=working-patch

--- /usr/sbin/eximstats 2004-12-17 13:36:44.381983753 +0100
+++ eximstats	2004-12-17 13:47:37.763185260 +0100
@@ -1107,11 +1107,11 @@
   if (scalar @chartdatanames < $ntopchart)
     {
     push(@chartdatanames, $key);
-    push(@chartdatavals, $$m_count{$key});
+    push(@chartdatavals, $$m_data{$key});
     }
   else
     {
-    $chartotherval += $$m_count{$key};
+    $chartotherval += $$m_data{$key};
     }
   }
 push(@chartdatanames, "Other");

--T4sUOijqQbZv57TR
Content-Type: text/plain; charset="us-ascii"
MIME-Version: 1.0
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

-- 

--T4sUOijqQbZv57TR--

From CALLER@myhost.test.ex Tue Mar 02 09:44:33 1999
Received: from CALLER by myhost.test.ex with local (Exim x.yz)
	(envelope-from <CALLER@myhost.test.ex>)
	id 10HmbD-0005vi-00
	for userx@test.ex; Tue, 2 Mar 1999 09:44:33 +0000
Message-Id: <E10HmbD-0005vi-00@myhost.test.ex>
From: CALLER_NAME <CALLER@myhost.test.ex>
Date: Tue, 2 Mar 1999 09:44:33 +0000
X-Router-SSint: was preserved

A message without any headers.

From CALLER@myhost.test.ex Tue Mar 02 09:44:33 1999
Received: from CALLER by myhost.test.ex with local (Exim x.yz)
	(envelope-from <CALLER@myhost.test.ex>)
	id 10HmbE-0005vi-00
	for userx@test.ex; Tue, 2 Mar 1999 09:44:33 +0000
Date: Tue, 2 Mar 1999 09:44:33 +0000
From: J Caesar <jcaesar@test.ex>
To: a-list00@exim.org
Message-ID: <20041217133501.GA3058@test.ex>
Mime-Version: 1.0
Content-Type: multipart/mixed; boundary="T4sUOijqQbZv57TR"
Content-Disposition: inline
Subject: [exim] Re: Bug#286074: eximstats: uses message count as data for
	the "volume" charts
X-BeenThere: a-list00@exim.org
X-Mailman-Version: 2.1.5
Precedence: list
Sender: CALLER_NAME <CALLER@myhost.test.ex>
X-0-content-type: multipart/mixed
X-0-filename: 
X-0-charset: 
X-0-boundary: T4sUOijqQbZv57TR
X-0-content-disposition: inline
X-0-content-transfer-encoding: 
X-0-content-id: 
X-0-content-description: 
X-0-is-multipart: 1
X-0-is-coverletter: 1
X-0-is-rfc822: 0
X-0-decode-filename: TESTSUITE/spool/scan/10HmbE-0005vi-00/10HmbE-0005vi-00-00000
X-0-content-size: 1
X-1-content-type: text/plain
X-1-filename: 
X-1-charset: us-ascii
X-1-boundary: 
X-1-content-disposition: inline
X-1-content-transfer-encoding: 
X-1-content-id: 
X-1-content-description: 
X-1-is-multipart: 0
X-1-is-coverletter: 1
X-1-is-rfc822: 0
X-1-decode-filename: TESTSUITE/spool/scan/10HmbE-0005vi-00/10HmbE-0005vi-00-00001
X-1-content-size: 1
X-2-content-type: text/plain
X-2-filename: working-patch
X-2-charset: us-ascii
X-2-boundary: 
X-2-content-disposition: attachment
X-2-content-transfer-encoding: 
X-2-content-id: 
X-2-content-description: 
X-2-is-multipart: 0
X-2-is-coverletter: 0
X-2-is-rfc822: 0
X-2-decode-filename: TESTSUITE/spool/scan/10HmbE-0005vi-00/10HmbE-0005vi-00-00002
X-2-content-size: 1
X-3-content-type: text/plain
X-3-filename: 
X-3-charset: us-ascii
X-3-boundary: 
X-3-content-disposition: inline
X-3-content-transfer-encoding: 7bit
X-3-content-id: 
X-3-content-description: 
X-3-is-multipart: 0
X-3-is-coverletter: 0
X-3-is-rfc822: 0
X-3-decode-filename: TESTSUITE/spool/scan/10HmbE-0005vi-00/10HmbE-0005vi-00-00003
X-3-content-size: 1
X-Router-SSint: was preserved

--T4sUOijqQbZv57TR
Content-Type: text/plain; charset=us-ascii
Content-Disposition: inline

There was a part of the patch missing, complete one is attached.
     sorry for wasting your time

--T4sUOijqQbZv57TR
Content-Type: text/plain; charset=us-ascii
Content-Disposition: attachment; filename=working-patch

--- /usr/sbin/eximstats 2004-12-17 13:36:44.381983753 +0100
+++ eximstats	2004-12-17 13:47:37.763185260 +0100
@@ -1107,11 +1107,11 @@
   if (scalar @chartdatanames < $ntopchart)
     {
     push(@chartdatanames, $key);
-    push(@chartdatavals, $$m_count{$key});
+    push(@chartdatavals, $$m_data{$key});
     }
   else
     {
-    $chartotherval += $$m_count{$key};
+    $chartotherval += $$m_data{$key};
     }
   }
 push(@chartdatanames, "Other");

--T4sUOijqQbZv57TR
Content-Type: text/plain; charset="us-ascii"
MIME-Version: 1.0
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

-- 

--T4sUOijqQbZv57TR--

From CALLER@myhost.test.ex Tue Mar 02 09:44:33 1999
Received: from CALLER (helo=test.ex)
	by myhost.test.ex with local-esmtp (Exim x.yz)
	(envelope-from <CALLER@myhost.test.ex>)
	id 10HmbF-0005vi-00
	for userx@test.ex; Tue, 2 Mar 1999 09:44:33 +0000
From: Test person <tp@cam.ac.uk>
To: Me <userx@test.ex>
Subject: A real test message
Date: Tue, 2 Mar 1999 09:44:33 +0000
Message-ID: <41C2F849.3060203@projectile.test.ex>
FakeDefer: test fakedefer
Sender: CALLER_NAME <CALLER@myhost.test.ex>
X-Regex: Regex matched
X-Router-SSint: was preserved

OK, this should look like a genuine message, but
it will trip on THIS REGEX.

